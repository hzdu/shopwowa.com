!function(){"use strict";var e=function(e){var t=this;this.logEnabled=!1,this.activeClass="--active",this.prevClass="--prev",this.currentSlide=0,this.slidesCount=0,this.interval=!1,this.is_wheeling=!1,this.is_scrollPage=!0,this.videosHelper=!1,this.points={},this._winHeight=null,this.init=function(){if(this.scope=e,this.slider=this.scope.querySelector(".rey-coverSplit"),!(rey.util.alreadyLoaded(this.slider)||(this.slidesContainer=this.slider.querySelector(".cSplit-slides"),this.slides=this.slider.querySelectorAll(".cSplit-slide"),this.borders=this.scope.querySelector(".cSplit-borders"),this.navItems=this.slider.querySelectorAll(".cSplit-navItem"),this.slidesCount=this.slides.length,this.hasMainSlide=this.slider.classList.contains("--mainSlide"),this.is_tablet=rey.vars.is_touch_device()&&rey.vars.is_tablet,this.points.initialScrollTop=window.pageYOffset,this.is_tablet&&0===this.points.initialScrollTop&&(rey.elements.body.style.overflow="hidden"),this.settings=Object.assign({autoplay:!1,autoplayDuration:5e3,transitionDuration:500,scroll:!0,sensitivity:400},JSON.parse(this.slider.getAttribute("data-slider-settings")||"{}")),rey.vars.is_mobile&&(this.settings.scroll=!1),this.checkFixed(),this.swapLogo(),this.slidesCount<1))){this.setupScrollData(),this.is_topSlider&&this.settings.scroll&&(this.is_scrollPage=!1,this.enableWheel());var t=this.slider.closest(".elementor-section.elementor-top-section, .e-con-top");t&&t.classList.contains("rey-animate-el")&&rey.vars.is_desktop?rey.hooks.addAction("elementor_section/animation_complete",(e=>{e.settings.id==t.getAttribute("data-id")&&this.removeLoading()})):this.removeLoading(),this.events()}},this.events=function(){document.addEventListener("keydown",(e=>{if("INPUT"!==document.activeElement.tagName&&!rey.vars.is_mobile&&window.pageYOffset<this.points.end-1)switch(e.keyCode){case 38:case 33:this.goToPrev(),e.preventDefault();break;case 40:case 32:case 34:case 35:this.goToNext(),e.preventDefault()}})),window.addEventListener("scroll",rey.util.debounce((e=>{if(this.settings.scroll&&(this.log(":: page scrolling"),this.is_scrollPage)){var t=window.pageYOffset;t&&t<this.points.end-1&&t!=this.points.top&&this.goToTop()}}),200)),this.slider.addEventListener("swd",(e=>{this.goToPrev()})),this.slider.addEventListener("swu",(e=>{this.goToNext()}));var e=this.slider.querySelector(".rey-arrowSvg--left");e&&e.addEventListener("click",(e=>{this.goToPrev()}));var t=this.slider.querySelector(".rey-arrowSvg--right");t&&t.addEventListener("click",(e=>{this.goToNext()})),this.slider.querySelectorAll(".cSplit-navItem span").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),this.goToSlide(parseInt(e.currentTarget.parentElement.getAttribute("data-index")))}))}))},this.setupScrollData=function(){this.points.start=rey.dom.offset(this.slider).top,this.is_topSlider=this.getWindowHeight()>=this.points.start,this.points.top=this.points.start-rey.vars.adminBar;let e=this.slider.offsetHeight;this.points.end=e+this.points.top,this.is_topSlider&&(this.points.top=0,this.points.end=e+(this.points.start-rey.vars.adminBar),this.is_scrollPage=!1),this.log({"::":"setupScrollData",points:this.points,topSlider:this.is_topSlider})},this.removeLoading=function(){this.slider.querySelector(".rey-background-video-container")&&void 0!==rey.components.videoHelper&&(this.videosHelper=rey.components.videoHelper({containers:[this.slider],lazyLoad:!1}),this.videosHelper.init()),this.slider.classList.remove("--loading"),this.slides[0].classList.add("--active"),this.navItems.length&&this.navItems[0].classList.add("--active"),this.slider.querySelectorAll(".cSplit-slide--mainBg, .cSplit-halfRight-img").forEach((e=>{e.style.backfaceVisibility="hidden"})),this.autoplay()},this.getWindowHeight=function(){return null!==this._winHeight||(this._winHeight=window.innerHeight),this._winHeight},this.handleWheel=function(e){t.is_scrollPage||e.preventDefault(),t.log(":: wheeling");var s=Math.sign(e.deltaY);!1===t.is_wheeling&&(s<0?t.goToPrev():t.goToNext(),t.is_wheeling=!0,t.wheelTimer=setTimeout((()=>{t.is_wheeling=!1}),parseInt(t.settings.sensitivity)))},this.enableWheel=function(){rey.elements.header&&this.is_topSlider&&rey.elements.header.addEventListener("wheel",this.handleWheel),this.slider.addEventListener("wheel",this.handleWheel),this.is_tablet&&(rey.elements.body.style.overflow="hidden")},this.goToTop=function(){this.setBodyCssClass(),rey.vars.is_mobile||(0===this.currentSlide&&this.is_topSlider&&this.runSwapCSS(!0),this.settings.scroll&&(this.is_scrollPage=!1,this.scrollTo(this.points.top,250,(()=>{this.enableWheel(),this.log(":: scroll to top and enable wheel")}))))},this.goToSection=function(){this.setBodyCssClass(!0),this.log(":: go to section (remove wheel, scroll to endpoint, unlock page scroll)"),this.settings.scroll&&(this.slider.removeEventListener("wheel",this.handleWheel),this.scrollTo(this.points.end,250,(()=>{this.is_scrollPage=!0,this.is_tablet&&(rey.elements.body.style.overflow="")})))},this.goToSlide=function(e){this.resetAutoplay(),this.setBodyCssClass(),this.currentSlide=e,this.runSwapCSS(!(this.currentSlide>=1)),this.hasMainSlide&&this.slider.classList.toggle("--at-first",!(this.currentSlide>=1)),this.slides.forEach(((e,t)=>{e.classList.remove(this.activeClass),e.classList.remove(this.prevClass),t===this.currentSlide&&(e.classList.add(this.activeClass),rey.dom.prevAll(e).forEach((e=>{e.classList.add(this.prevClass)})))})),this.navItems.forEach((e=>{e.classList.remove(this.activeClass),rey.dom.children(e.parentElement,'[data-index="'+this.currentSlide+'"]').forEach((e=>{e.classList.add(this.activeClass)}))}))},this.goToNext=function(e){var t=this.currentSlide+1;e&&this.slidesCount==t?this.goToSlide(0):this.slidesCount!=t?this.goToSlide(t):this.goToSection()},this.goToPrev=function(){var e;0===this.currentSlide&&this.points.initialScrollTop&&!rey.vars.is_mobile&&(this.scrollTo(this.points.top,250),this.points.initialScrollTop=0),e=0==this.currentSlide?0:this.currentSlide-1,this.goToSlide(e)},this.setBodyCssClass=function(e){},this.runSwapCSS=function(e){rey.elements.header&&!rey.elements.header.classList.contains("header-pos--rel")&&rey.elements.body.classList.toggle("--cover-split-header--top",!0===e)},this.autoplay=function(){this.settings.autoplay&&(this.interval=setInterval((()=>{this.goToNext(!0)}),parseInt(this.settings.autoplayDuration)+this.settings.transitionDuration))},this.resetAutoplay=function(){this.settings.autoplay&&this.interval&&(clearInterval(this.interval),this.autoplay())},this.scrollTo=function(e,t,s){var i=document.scrollingElement||document.documentElement,o=i.scrollTop,l=e-o,r=(new Date).getTime(),n=function(){var a,h,d,c=(new Date).getTime()-r;i.scrollTop=(a=c,h=o,d=l,(a/=t/2)<1?d/2*a*a+h:-d/2*(--a*(a-2)-1)+h),c<t?requestAnimationFrame(n):(i.scrollTop=e,void 0!==s&&s())};n()},this.checkFixed=function(){if(rey.elements.header&&rey.elements.header.classList.contains("header-pos--fixed")&&!rey.elements.header.classList.contains("--hfx-spacer")){var e=rey.elements.header.nextElementSibling;e.classList.contains("rey-siteHeader-helper")&&e.classList.add("--dnone-lg")}},this.swapLogo=function(){var e=this.slider.getAttribute("data-logo"),t=this.slider.getAttribute("data-logo-mobile");if((rey.vars.is_desktop||t)&&e&&rey.elements.header){var s=rey.elements.header.querySelector(".rey-logoWrapper .rey-siteLogo img");if(s){s.classList.add("--swapper-main");var i=s.cloneNode(!0);i.setAttribute("src","customLogoPath"),i.setAttribute("class","--swapper"),i.setAttribute("srcset",""),i.setAttribute("sizes",""),s.after(i)}}},this.log=function(e){this.logEnabled&&e&&console.log(e)},this.init()},t=()=>{document.querySelectorAll(".elementor-widget-reycore-cover-split").forEach((t=>{new e(t)}))};document.addEventListener("DOMContentLoaded",(()=>{"undefined"!=typeof rey?t():console.error("`rey` is undefined so this script will not run.")})),document.addEventListener("rey/preloader/loaded",(function(){t()})),rey.hooks.addAction("elementor/init",(function(t){t.registerElement({name:"reycore-cover-split.default",cb:function(t){new e(t[0])}})}))}();