!function(e){"use strict";var t;t||(new function(){this.editor_params="undefined"!=typeof reyElementorEditorParams?reyElementorEditorParams:{};var t=this;this.init=function(){"undefined"!=typeof elementor?(this.setContainerPadding(),this.runCallbacks(),this.addLinks(),this.addQuickMenu(),this.modifyLibraryElement(),this.addCustomIcons(),this.addScrollBarProp(),this.events()):console.log('"elementor" is undefined.')},this.addScrollBarProp=function(){elementor.once("preview:loaded",(function(){var e=elementor.$preview.width()-elementor.$previewContents.width();elementor.$previewContents[0].documentElement.style.setProperty("--scrollbar-width",e+"px")}))},this.addCustomIcons=function(){e.each([{template:"#tmpl-elementor-navigator__elements",search:'<i class="{{{ icon }}}"></i>'},{template:"#tmpl-elementor-element-library-element",search:'<i class="{{ icon }}" aria-hidden="true"></i>'}],(function(t,n){var i=e(n.template);if(i.length){var o=i.text(),r="";r+='<# var cssClass = "rey-editor-icons"; #>',r+="<# if ( icon.indexOf(cssClass) !== -1 ) { #>",r+='<# var iconName = reyElementorEditorParams.elements_icons_sprite_path + "#"; #>',r+='<# iconName += icon.replace(cssClass + " --", ""); #>',r+='<svg class="{{ cssClass }}" aria-hidden="true" role="img"><use href="{{iconName}}" xlink:href="{{iconName}}"></use> </svg>',r+="<# } else { #>",r+=n.search,r+="<# } #>",o=o.replace(n.search,r),i.text(o)}}))},this.events=function(){e(document).on("click",".js-copy-content",(function(e){const t=document.createElement("input");document.body.appendChild(t),t.value=e.currentTarget.textContent,t.select(),document.execCommand("copy"),t.remove(),e.currentTarget.style.opacity="0.5"})),e(document).on("click",".elementor-control-field-description code[data-insert]",(function(t){var n=e(t.currentTarget).closest(".elementor-control-content").find('input[type="text"], textarea');n.length&&n.val(n.val()+e(t.currentTarget).text()).trigger("input")})),e(document).on("click",".rey-selectorCss .elementor-button[data-selector]",this.doInsertSnippet),elementor.hooks.addAction("panel/open_editor/column",this.update_column_width),elementor.hooks.addAction("panel/open_editor/section",this.handle_flex_wrap),elementor.channels.editor.on("rey:editor:hide_header",this.handle_hide_header),elementor.channels.editor.on("rey:editor:hide_gs",this.handle_hide_gs),elementor.channels.editor.on("rey:editor:apply_preview",this.handle_apply_preview),elementor.hooks.addFilter("editor/style/styleText",this.section_custom_css),elementor.channels.editor.on("section:activated",this.sectionActivated),elementor.channels.editor.on("rey:header_nav_visibility",this.headerNavVisibility)},this.runCallbacks=function(){if(void 0!==elementor.settings.page){elementor.settings.page.addChangeCallback("rey_container_spacing",(function(e){t.containerPaddingValue=e})),elementor.settings.page.addChangeCallback("offcanvas_position",(function(t){e(".rey-pbTemplate--gs-offcanvas",elementor.$previewContents).attr("data-position",t)})),elementor.settings.page.addChangeCallback("rey_stretch_page",(function(t){var n=e(".rey-siteContainer",elementor.$previewContents),i="rey-stretchPage";t==i?n.addClass(i):n.removeClass(i)})),elementor.settings.page.addChangeCallback("header_layout_type",(function(e){elementor.saver.update({onSuccess:function(){elementor.reloadPreview(),elementor.once("preview:loaded",(function(){elementor.getPanelView().setPage("page_settings")}))}})})),elementor.settings.page.addChangeCallback("header_position",(function(t){var n=e(".rey-siteHeader",elementor.$previewContents);e(".elementor-control-header_position .elementor-control-content"),n.removeClass((function(e,t){return(t.match(/(^|\s)header-pos--\S+/g)||[]).join(" ")}));var i=elementor.settings.page.getSettings();""==t?n.addClass("header-pos--"+i.settings.header_position):n.addClass("header-pos--"+t)})),elementor.settings.page.addChangeCallback("footer_layout_type",(function(e){elementor.saver.update({onSuccess:function(){elementor.reloadPreview(),elementor.once("preview:loaded",(function(){elementor.getPanelView().setPage("page_settings")}))}})})),elementor.settings.page.addChangeCallback("gs_type",(function(e){elementor.saver.update({onSuccess:function(){elementor.reloadPreview()}})})),elementor.settings.page.addChangeCallback("rey_custom_logo",(function(e){elementor.saver.update({onSuccess:function(){elementor.reloadPreview(),elementor.once("preview:loaded",(function(){elementor.getPanelView().setPage("page_settings")}))}})}));var n=function(e){$e.run("document/save/update").then((function(){elementor.reloadPreview(),elementor.once("preview:loaded",(function(){setTimeout((()=>{$e.route("panel/page-settings/settings")}),200)}))}))};elementor.settings.page.addChangeCallback("rey_templates_type",n),elementor.settings.page.addChangeCallback("rey_page_template_canvas",n)}},this.addLinks=function(){elementor.on("panel:init",(function(){void 0!==elementor.config.rey&&void 0!==elementor.config.rey.global_links&&e.each(elementor.config.rey.global_links,(function(e,t){void 0!==t.show_in_el_menu&&!1===t.show_in_el_menu||elementor.modules.layouts.panel.pages.menu.Menu.addItem({icon:t.icon,title:t.title,link:t.link,type:"link",newTab:!0},"settings")}))}))},this.addQuickMenu=function(){if(void 0!==elementor.config.rey){var t=e("#tmpl-elementor-panel-footer-content"),n='<div id="elementor-panel-footer-navigator',i=t.text(),o="",r=reyElementorEditorParams.button_text;-1!==i.indexOf(n)||(n='<button id="elementor-panel-footer-navigator',-1!==i.indexOf(n))?(reyElementorEditorParams.icon&&(r='<img src="'+reyElementorEditorParams.icon+'" /><span class="elementor-screen-only">'+reyElementorEditorParams.title+"</span>"),o+='<div id="elementor-panel-footer-rey" class="elementor-panel-footer-tool elementor-toggle-state tooltip-target" data-tooltip="'+reyElementorEditorParams.title+'"><span id="elementor-panel-footer-rey-label">'+r+"</span>",o+='<div class="elementor-panel-footer-sub-menu-wrapper"><div class="elementor-panel-footer-sub-menu">',void 0!==elementor.config.rey.global_links&&e.each(elementor.config.rey.global_links,(function(e,t){var n=void 0!==t.class?t.class:"";o+='<a href="'+t.link+'" target="_blank" class="elementor-panel-footer-sub-menu-item '+n+'"><i class="elementor-icon '+t.icon+'" aria-hidden="true"></i><span class="elementor-title">'+t.title+"</span></a>"})),o+="</div></div>",o+="</div>",o+=n,i=i.replace(n,o),t.text(i)):console.log("Cannot find the Footer navigator panel.")}},this.modifyLibraryElement=function(){if(reyElementorEditorParams.branding){var t=e("#tmpl-elementor-element-library-element"),n=t.text(),i='<div class="elementor-element"';n=n.replace(i,'<div class="elementor-element" data-widget-type="{{ widgetType || obj.widgetType }}"'),t.text(n)}},this.doInsertSnippet=function(t){t.preventDefault();var n=e(this).closest(".elementor-control").prev(".elementor-control").find(".ace_editor");if(n.length&&void 0!==n[0].env.editor){var i=n[0].env.editor,o=i.session.getValue(),r=e(this).attr("data-selector");i.focus(),i.navigateFileEnd(),o&&(r="\n"+r),i.session.insert(i.getCursorPosition(),r)}},this.update_column_width=function(e,t,n){var i=t.get("settings"),o=n._parent.model.get("settings").get("rey_flex_wrap");i.set("section_rey_flex_wrap",o)},this.handle_wc_checkout=function(e,t){void 0!==t.model.get("settings").changed.layout&&elementor.reloadPreview()},this.handle_flex_wrap=function(t,n,i){n.get("settings").on("change",(function(t){if(void 0!==t.changed.rey_flex_wrap){var o=n.get("elements");o.length>0&&e.each(o.models,(function(n,o){var r=o.get("settings");if(r.set("section_rey_flex_wrap",t.changed.rey_flex_wrap),""!=t.changed.rey_flex_wrap&&""==r.get("rey_flex_wrap_inline_size")){r.set("rey_flex_wrap_inline_size",100);var a=e("> .elementor-container > .elementor-column.elementor-top-column",i.$el);reyElementorEditorParams.optimized_dom||(a=e("> .elementor-container > .elementor-row > .elementor-column.elementor-top-column",i.$el)),a.each((function(t,n){e(n).attr("data-col",100)}))}}))}}))},this.handle_hide_header=function(t){e("button",t.$el).toggleClass("--active"),e(".rey-siteHeader",elementor.$previewContents).toggleClass("rey--disable-header")},this.handle_hide_gs=function(t){e("button",t.$el).toggleClass("--active"),e("body",elementor.$previewContents).toggleClass("rey--disable-gs")},this.handle_set_opt=function(e){var t=e.$el,n=e.ui.button;t.css("pointer-events","none"),n.css("opacity","0.5"),elementorCommon.ajax.load({action:"rey_set_opt",data:{opt:e.model.attributes.default},success:function(e){t.css("pointer-events",""),n.css("opacity",""),elementor.reloadPreview()}})},this.handle_apply_preview=function(e){$e.run("document/save/update").then((function(){elementor.reloadPreview(),elementor.once("preview:loaded",(function(){$e.route("panel/page-settings/settings")}))}))},this.replace_font_list_names=function(){var t=e("#tmpl-elementor-control-font-content"),n=t.text(),i=new RegExp('<option value="{{ fontName }}">{{{ fontName }}}</option>',"g");n=n.replace(i,'<# var typo_names = reyElementorEditorParams.rey_typography;  var fontNameModified = fontName;  if( fontName === "var(--primary-ff)" ) { fontNameModified = typo_names.primary; }  else if( fontName === "var(--secondary-ff)" ) { fontNameModified = typo_names.secondary; } #><option value="{{ fontName }}">{{{ fontNameModified.replace("__", "") }}}</option>'),t.text(n)},this.section_custom_css=function(e,t){if(!t)return e;var n=t.model,i=n.get("settings").get("rey_custom_css");if(!i)return e;var o=n.get("elType"),r=".elementor-element.elementor-element-"+n.get("id"),a={"SELECTOR-INNER":r+{section:" > .elementor-container",container:" > .e-con-inner",column:" > .elementor-widget-wrap",widget:" > .elementor-widget-container"}[o],SELECTOR:r,"SECTION-ID":r};return Object.keys(a).forEach((t=>{var n=new RegExp(t,"g");e+=i.replace(n,a[t])})),e},this.sectionActivated=(e,t)=>{this.section_custom_css__handle_label(e,t),this.marginPlaceholders(e,t)},this.section_custom_css__handle_label=function(t,n){var i=n.getOption("editedElementView").getEditModel(),o=function(t,n){var i=t.get("rey_custom_css"),o=e(".elementor-control-section_rey_custom_CSS .elementor-panel-heading-title .rey-hasStylesNotice",n);""!==i?o.addClass("--visible"):o.removeClass("--visible")},r=i.get("settings");o(r,n.$el),r.on("change",(function(){o(r,n.$el)}))},this.setContainerPadding=function(){if(this.containerPaddingValue=reyElementorEditorParams.rey_container_spacing,elementor&&elementor.settings&&void 0!==elementor.settings.page){var e=elementor.settings.page.getSettings();e.settings&&e.settings.rey_container_spacing&&(this.containerPaddingValue=e.settings.rey_container_spacing)}},this.marginPlaceholders=function(n,i){var o=e(".elementor-control-margin.elementor-control-type-dimensions, .elementor-control-rey_margin_all.elementor-control-type-dimensions",i.$el);if(o.length&&"section"===i.getOption("editedElementView").getEditModel().get("elType")){var r=e('input[data-setting="left"]',o),a=e('input[data-setting="right"]',o),s=r.length&&a.length;t.containerPaddingValue&&s&&(r.attr("placeholder",t.containerPaddingValue),a.attr("placeholder",t.containerPaddingValue),r.attr("disabled")&&"0"==r.val()&&r.val(""),a.attr("disabled")&&"0"==a.val()&&a.val(""))}},this.headerNavVisibility=function(e){e.container.view.$el.toggleClass("editmode_show_panel")},this.init()},t=!0);var n={theData:{},queryArgs:{},setQueryArgs:function(){return Object.keys(this.queryArgs).length||(this.queryArgs=this.model.get("query_args")),this.queryArgs},setOptions:function(){var e={};Object.keys(this.theData).forEach((t=>{void 0===this.theData[t].id?e[t]=this.theData[t]:e[this.theData[t].id]=this.theData[t].title})),this.model.set("options",e)},addSpinner:function(){this.ui.select.prop("disabled",!0),this.$el.find(".elementor-control-title").after('<span class="elementor-control-spinner">&nbsp;<i class="fa fa-spinner fa-spin"></i>&nbsp;</span>')},addEditLink:function(){if(this.queryArgs.edit_link){e(".rey-editMenu-link",this.$el).remove();var t="",n="",i=this.getControlValue();i&&("string"!=typeof i&&(i=i[0]),Object.keys(this.theData).forEach((e=>{i==this.theData[e].id&&void 0!==this.theData[e].link&&(t=this.theData[e].link,n=this.theData[e].text||this.theData[e].title)})),this.$el.find(".elementor-control-title").append(`<a href="${t}" class="eicon-editor-external-link rey-editMenu-link" target="_blank" data-title="Edit" title="Edit ${n}"></a>`))}},onSuccess:function(e){this.isDataReceived=!0,this.theData=e,this.setOptions(),void 0!==this.ui.select&&(this.render(),this.addEditLink())},onInputChange:function(){this.addEditLink()}},i=Object.assign({cache:null,isDataReceived:!1,getSelect2Placeholder:function(){return{id:"",text:this.model.get("placeholder")}},getSelect2DefaultOptions:function(){return this.setQueryArgs(),["post_type","taxonomy"].forEach((e=>{if(void 0!==this.queryArgs[e]&&0===this.queryArgs[e].indexOf("{")){var t=this.queryArgs[e].slice(1,-1),n=this.options.container.settings.get(t);"repeater"===this.options.container.type&&(n=this.options.container.renderer.settings.get(t)),this.queryArgs[e]=n}})),e.extend(elementor.modules.controls.Select2.prototype.getSelect2DefaultOptions.apply(this,arguments),{allowClear:!0,placeholder:this.getSelect2Placeholder(),ajax:{transport:(e,t,n)=>elementorCommon.ajax.addRequest("rey_query_control_filter_autocomplete",{data:{q:e.data.q,query_args:this.queryArgs},success:e=>{Object.keys(e.results).length&&(this.theData=e.results),t(e)},error:n}),data:function(e){return{q:e.term}},cache:!0},escapeMarkup:function(e){return e},minimumInputLength:1})},getValueTitles:function(){if(this.setQueryArgs(),Object.keys(this.queryArgs).length){var e=this.getControlValue();e&&(_.isArray(e)||(e=[e]),elementorCommon.ajax.load({action:"rey_query_control_value_titles",unique_id:this.cid+this.queryArgs.type,data:{query_args:this.queryArgs,values:e},success:e=>{this.onSuccess(e)},before:()=>{this.addSpinner()}}))}},onReady:function(){this.setQueryArgs(),this.ui.select.select2(this.getSelect2Options()),this.isDataReceived||this.getValueTitles()}},n);elementor.addControlView("rey-query",elementor.modules.controls.Select2.extend(i));var o=Object.assign({isDataReceived:!1,getData:function(){if(this.setQueryArgs(),Object.keys(this.queryArgs).length){var e=this.getControlValue();this.queryArgs.request&&(_.isArray(e)||(e=[e]),this.queryArgs.values=e,elementorCommon.ajax.load({action:"rey_ajax_list_control__"+this.queryArgs.request,unique_id:this.cid,data:this.queryArgs,success:e=>{this.onSuccess(e)},before:()=>{this.addSpinner()}}))}},onReady:function(){this.setQueryArgs(),this.isDataReceived||this.getData()}},n);elementor.addControlView("rey-ajax-list",elementor.modules.controls.Select2.extend(o))}(jQuery);